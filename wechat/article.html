<!DOCTYPE html>
<html ng-app="myApp">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap.min.css">
<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap-theme.min.css">
</head>

<body ng-controller="appCtrl">
<div class="jumbotron">
	<div class="container">
		<h3>{{article.title}}</h3>
		<h5><small></small></h5>
		<p ng-bind-html="article.trustContent"></p>
	</div>
</div>

<div class="container">
	<footer>
		<p>&copy; 奄尖大少 2013</p>
	</footer>
</div> <!-- /container -->


<script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script src="../lib/angular/angular.min.js"></script>
<script src="../lib/angular/angular-sanitize.min.js"></script>
<script src="js/global.js"></script>
<script>
var myApp = angular.module('myApp', ['ngSanitize']);
myApp.config(function($locationProvider){
    $locationProvider.html5Mode(true);
})
/*控制器*/
myApp
.controller('appCtrl', ['$scope', '$location', '$http', '$sce', function ($scope, $location, $http, $sce) {
	var loc = $location.search();
	$scope.article = {};
	if( ! angular.isUndefined(loc.id) ){
		$http.get(getApiUrl('/wechat_articles/id/') + loc.id, {headers: {'Authorization': 'Basic c3F0OllXYVdNVEl6TkE='}}).success(function(response){
				$scope.article = response;
				$scope.article.trustContent = $sce.trustAsHtml($scope.article.content)
		});
	}else{
		console.log(loc.id);
	}
}])

</script>
</body>
</html>